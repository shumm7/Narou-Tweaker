<!doctype html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<base target="_blank">
<link rel="stylesheet" href="../../common.css">
<link rel="stylesheet" href="options.css">
<link rel="stylesheet" href="../../libs/font-awesome/css/all.css">
<link rel="stylesheet" href="../../libs/Coloris/dist/coloris.min.css">
<script src="../../libs/jquery-3.7.1.min.js"></script>
<script src="../../libs/SortableJS/Sortable.min.js"></script>
<script src="../../libs/Coloris/dist/coloris.min.js"></script>
<title>Narou Tweaker options</title>

<div id="js-failed">JavaScript failed to load. Your development build failed or your browser has some issue.</div>
<form id="options-form" class="detail-view-container">
	<details id="welcome" name="optionPageDetailsWelcome" class="options">
		<summary><strong>😆 ようこそ</strong></summary>
		<p>
		このページでは、Narou Tweakerの設定を変更することが出来ます。<br/>
        一部の設定の反映には、ページの再読み込みかブラウザの再起動が必要になることがあります。<br/>
        ご不明な点は<a href="">こちら</a>からご確認ください。
		</p>
		<p>
			<a href="/cogs/options/novel/index.html"><button type="button">設定画面をページで開く</button></a>
		</p>
	</details>

	<details id="novel" name="optionPageDetailsNovel" class="options">
		<summary><strong>📗 小説ページ</strong></summary>
		<p>小説本文、および、その詳細ページの設定を変更することが出来ます。</p>
		<p>
			<input type="checkbox" id="enable_novel_css" class="options toggle" name="novelCustomStyle">
			<label for="enable_novel_css" class="toggle">モダンなページレイアウト</label>
		</p>

		<div class="section">
			<div class="section-header" style="margin-bottom: 1em;">ヘッダ</div>
			<p>
				<input type="checkbox" id="enable_novel_header" class="options toggle" name="novelCustomHeader">
				<label for="enable_novel_header" class="toggle">モダンなヘッダ</label>
			</p>
			<p>
				<input type="checkbox" id="enable_novel_legacy_header_icon" class="options toggle" name="novelLegacyHeaderIcon">
				<label for="enable_novel_legacy_header_icon" class="toggle">「モダンなヘッダ」がオフのとき、アイコンを表示する</label>
			</p>
			<p>
				<div class="dropdown">
					<select id="novel_header_mode" class="options" name="novelCustomHeaderMode">
						<option value="absolute">上部</option>
						<option value="fixed">追従</option>
						<option value="scroll">スクロール</option>
					</select>
				</div>
				<label for="novel_header_mode">ヘッダの追従モード</label>
			</p>
			<p>
				<input type="checkbox" id="enable_novel_header_scroll_hidden" class="options toggle" name="novelCustomHeaderScrollHidden">
				<label for="enable_novel_header_scroll_hidden" class="toggle">ヘッダが「スクロール」のとき、初めはヘッダを非表示にする</label>
			</p>
			<div style="margin-top: 2em;">
				<p>
					<div class="section-subheader">アイコンの配置</div>
					アイコンの配置を指定します。この設定は「モダンなヘッダ」がオンの時にのみ作用します。</p>
				<p>
					<div id="novel_header_icon" style="display: flex; flex-flow: row;">
						<div class="draggable_area_outer">
							<div class="title">左</div>
							<div class="draggable_area" id="left"></div>
						</div>
						<div class="draggable_area_outer">
							<div class="title">右</div>
							<div class="draggable_area" id="right"></div>
						</div>
						<div class="draggable_area_outer">
							<div class="title">非表示</div>
							<div class="draggable_area" id="disabled"></div>
						</div>
					</div>
				</p>
			</div>
		</div>

		
		<div class="section">
			<div class="section-header" style="margin-bottom: 1em;">本文</div>
			<p>
				<div class="section-subheader">フォント</div>
				<div id="font-family" style="margin-bottom: 1em;">
					<div id="font-family-select" style="margin-bottom: 1em;">
						<div class='font-button' id='gothic'>
							<div class='font-button-box'>あ亜A</div>
							<div class='font-button-description'>ゴシック</div>
						</div>
						<div class='font-button' id='serif'>
							<div class='font-button-box'>あ亜A</div>
							<div class='font-button-description'>明朝体</div>
						</div>
						<div class='font-button' id='custom'>
							<div class='font-button-box'>あ亜A</div>
							<div class='font-button-description'>カスタム</div>
						</div>
					</div>
					<div id="font-family-custom">
						<div class="textfield">
							<label for="#custom-font-family">カスタムフォント</label>
							<input name="custom-font-family" type="text" id="custom-font-family">
						</div>
					</div>
				</div>
			</p>
			<p>
				<div class="section-subheader">サイズ</div>
				<div id="font-size">
					<div style="margin: 0 .5em;">+</div>
					<div class="font-number-change-button" id="font-size-minus">-</div>
					<input name="fontFontSize" type="text" id="font-size-input">
					<div class="font-number-change-button" id="font-size-plus">+</div>
					<div style="margin: 0 .5em;">%</div>
				</div>
			</p>
			<p>
				<div class="section-subheader">行間</div>
				<div id="line-height">
					<div style="margin: 0 .5em;">+</div>
					<div class="font-number-change-button" id="line-height-minus">-</div>
					<input name="fontLineHeight" type="text" id="line-height-input">
					<div class="font-number-change-button" id="line-height-plus">+</div>
					<div style="margin: 0 .5em;">%</div>
				</div>
			</p>
			<p>
				<div class="section-subheader">横幅</div>
				<div id="page-width">
					<div style="margin: 0 .5em;">×</div>
					<div class="font-number-change-button" id="page-width-minus">-</div>
					<input name="fontWidth" type="text" id="page-width-input">
					<div class="font-number-change-button" id="page-width-plus">+</div>
					<div style="margin: 0 .5em;">%</div>
				</div>
			</p>
		</div>

		<div class="section">
			<div class="section-header" style="margin-bottom: 1em;">スキン</div>
			<p>
				<input type="checkbox" id="enable_novel_expand_skin" class="options toggle" name="novelExpandSkin">
				<label for="enable_novel_expand_skin" class="toggle">スキンの適用範囲を拡大（推奨）</label>
			</p>
			<p>
				
			</p>
			
			
			</div>
		</div>

		<div class="section">
			<div class="section-header" style="margin-bottom: 1em;">文章校正</div>
			<div class="section-subheader" style="margin-bottom: 1em;">文法</div>
			<p>
				<input type="checkbox" id="correction-indent" class="options toggle" name="correctionIndent">
                <label for="correction-indent" class="toggle">段落下げ</label>
			</p>
			
			<div class="section-subheader" style="margin-bottom: 1em;">記号</div>
			<p>
				<input type="checkbox" id="correction-normalize-ellipses" class="options toggle" name="correctionNormalizeEllipses">
				<label for="correction-normalize-ellipses" class="toggle">中点の三点リーダー（・・・）</label>
			</p>
			<p>
				<input type="checkbox" id="correction-normalize-dash" class="options toggle" name="correctionNormalizeDash">
				<label for="correction-normalize-dash" class="toggle">罫線のダッシュ（――）</label>
			</p>
			<p>
				<input type="checkbox" id="correction-repeated-symbols" class="options toggle" name="correctionRepeatedSymbols">
				<label for="correction-repeated-symbols" class="toggle">句読点の連続（、、）</label>
			</p>
			<p>
				<input type="checkbox" id="correction-period-with-brackets" class="options toggle" name="correctionPeriodWithBrackets">
				<label for="correction-period-with-brackets" class="toggle">括弧の後の句読点（。」）</label>
			</p>
			<p>
				<input type="checkbox" id="correction-no-space-exclamation" class="options toggle" name="correctionNoSpaceExclamation">
				<label for="correction-no-space-exclamation" class="toggle">後ろに空白の無い感嘆符</label>
			</p>
			<p>
				<input type="checkbox" id="correction-odd-ellipses-and-dash" class="options toggle" name="correctionOddEllipsesAndDash">
				<label for="correction-odd-ellipses-and-dash" class="toggle">奇数の三点リーダー/ダッシュ</label>
			</p>

			<div class="section-subheader" style="margin-bottom: 1em;">置換</div>
			<div id="correction-replace--patterns">
				<div id="correction-replace--pattern-box-addition">
					<i class="fa-solid fa-plus"></i>
				</div>
			</div>
		</div>
	</details>

	<details id="workspace" name="optionPageDetailsWorkspace" class="options">
		<summary><strong>✒ ユーザホーム</strong></summary>
		<p>ユーザホームの設定を変更することが出来ます。</p>
		<p>
			<div class="dropdown">
				<select id="workspace_bookmark_layout" class="options" name="workspaceBookmarkLayout">
					<option value="0">デフォルト</option>
					<option value="1">旧デザイン風</option>
				</select>	
			</div>
			<label for="workspace_bookmark_layout">ブックマークのレイアウト</label>
		</p>
		</div>
	</details>


	<details id="mypage" name="optionPageDetailsMypage" class="options">
		<summary><strong>👤 ユーザページ</strong></summary>
		<p>ユーザページの設定を変更することが出来ます。</p>
		<p>
			<input type="checkbox" id="enable_mypage_profile_userid" class="options toggle" name="mypageShowUserId">
			<label for="enable_mypage_profile_userid" class="toggle">ユーザIDを表示</label>
		</p>
		<p>
			<input type="checkbox" id="enable_mypage_profile_detail" class="options toggle" name="mypageProfileStatics">
			<label for="enable_mypage_profile_detail" class="toggle">ユーザ統計を表示</label>
		</p>
		<p>
			<input type="checkbox" id="enable_mypage_profile_booklist" class="options toggle" name="mypageProfileBooklist">
			<label for="enable_mypage_profile_booklist" class="toggle">書報を表示</label>
		</p>
		<p>
			<input type="checkbox" id="enable_mypage_disable_external_url_warning" class="options toggle" name="mypageDisableExternalURLWarning">
			<label for="enable_mypage_disable_external_url_warning" class="toggle">外部リンク警告を非表示にする</label>
		</p>
		<div class="section">
			<div class="section-header">自動リンク化</div>
			<p>
				特定の場所に含まれるURLを、自動的にリンク化します。
			</p>	
			<p>
				<input type="checkbox" id="enable_mypage_profile_autourl" class="options toggle" name="mypageProfileAutoURL">
				<label for="enable_mypage_profile_autourl" class="toggle">プロフィール</label>
			</p>
			<p>
				<input type="checkbox" id="enable_mypage_blog_autourl" class="options toggle" name="mypageBlogAutoURL">
				<label for="enable_mypage_blog_autourl" class="toggle">活動報告の本文</label>
			</p>
			<p>
				<input type="checkbox" id="enable_mypage_blogcomment_autourl" class="options toggle" name="mypageBlogCommentAutoURL">
				<label for="enable_mypage_blogcomment_autourl" class="toggle">活動報告のコメント</label>
			</p>
		</div>
	</details>

    <details id="kasasagi" name="optionPageDetailsKasasagi" class="options">
		<summary><strong>📊 KASASAGI</strong></summary>
		<p>KASASAGI（アクセス解析ページ）の設定を変更することが出来ます。</p>
		<p>
			<input type="checkbox" id="enable_kasasagi_css" class="options toggle" name="kasasagiCustomStyle">
			<label for="enable_kasasagi_css" class="toggle">モダンなページレイアウト</label>
		</p>
		<p>
			<input type="checkbox" id="enable_kasasagi_export" class="options toggle" name="kasasagiExportButton">
			<label for="enable_kasasagi_export" class="toggle">データエクスポートボタン</label>
		</p>
		
		<div class="section">
			<p><span class="section-header">総合</span></p>
			<div class="section">
				<p><span class="section-subheader">当日・前日</span></p>
				<p>
					<input type="checkbox" id="enable_kasasagi_graph_general_day" class="options toggle" name="kasasagiShowGraph_GeneralDay">
					<label for="enable_kasasagi_graph_general_day" class="toggle">グラフを表示</label>
				</p>
				<p>
					<div class="dropdown">
						<select id="kasasagi_graph_type_general_day" class="options" name="kasasagiGraphType_GeneralDay">
							<option value="bar">棒グラフ</option>
							<option value="line">折れ線グラフ</option>
						</select>	
					</div>
					<label for="enable_kasasagi_graph_general_day">グラフの種類</label>
				</p>
				<p>
					<input type="checkbox" id="enable_kasasagi_table_general_day" class="options toggle" name="kasasagiShowTable_GeneralDay">
					<label for="enable_kasasagi_table_general_day" class="toggle">テーブルを表示/改変</label>
				</p>
			</div>

			<div class="section">
				<p><span class="section-subheader">累計</span></p>
				<p>
					<input type="checkbox" id="enable_kasasagi_graph_general_total" class="options toggle" name="kasasagiShowGraph_GeneralTotal">
					<label for="enable_kasasagi_graph_general_total" class="toggle">グラフを表示</label>
				</p>
				<p>
					<div class="dropdown">
						<select id="kasasagi_graph_type_general_total" class="options" name="kasasagiGraphType_GeneralDay">
							<option value="bar">棒グラフ</option>
							<option value="line">折れ線グラフ</option>
						</select>	
					</div>
					<label for="enable_kasasagi_graph_general_total">グラフの種類</label>
				</p>
			</div>

			<div class="section">
				<p><span class="section-subheader">作品データ</span></p>
				<p>なろうAPIを利用して、詳細な作品の統計情報を表示します。</p>
				<p>
					<input type="checkbox" id="enable_kasasagi_api_data" class="options toggle" name="kasasagiShowTable_API">
					<label for="enable_kasasagi_api_data" class="toggle">表示</label>
				</p>
			</div>
		</div>

		<div class="section">
			<p><span class="section-header">エピソード別ユニーク</span></p>
			<p>
				<input type="checkbox" id="enable_kasasagi_graph_chapter_unique" class="options toggle" name="kasasagiShowGraph_ChapterUnique">
				<label for="enable_kasasagi_graph_chapter_unique" class="toggle">グラフを表示</label>
			</p>
			<p>
				<div class="dropdown">
					<select id="kasasagi_graph_type_chapter_unique" class="options" name="kasasagiGraphType_ChapterUnique">
						<option value="bar">棒グラフ</option>
						<option value="line">折れ線グラフ</option>
					</select>	
				</div>
				<label for="kasasagi_graph_chapter_unique">グラフの種類</label>
			</p>
			<p>
				<input type="checkbox" id="enable_kasasagi_table_chapter_unique" class="options toggle" name="kasasagiShowTable_ChapterUnique">
				<label for="enable_kasasagi_table_chapter_unique" class="toggle">テーブルを表示/改変</label>
			</p>
		</div>

		<div class="section">
			<p><span class="section-header">日別PV</span></p>
			<p>
				<input type="checkbox" id="enable_kasasagi_graph_day_pv" class="options toggle" name="kasasagiShowGraph_DayPV">
				<label for="enable_kasasagi_graph_day_pv" class="toggle">グラフを表示</label>
			</p>
			<p>
				<div class="dropdown">
					<select id="kasasagi_graph_type_day_pv" class="options" name="asasagiGraphType_DayPV">
						<option value="bar">棒グラフ</option>
						<option value="line">折れ線グラフ</option>
					</select>	
				</div>
				<label for="kasasagi_graph_day_pv">グラフの種類</label>
			</p>
		</div>

		<div class="section">
			<p><span class="section-header">日別ユニーク</span></p>
			<p>
				<input type="checkbox" id="enable_kasasagi_graph_day_unique" class="options toggle" name="kasasagiShowGraph_DayUnique">
				<label for="enable_kasasagi_graph_day_unique" class="toggle">グラフを表示</label>
			</p>
			<p>
				<div class="dropdown">
					<select id="kasasagi_graph_type_day_unique" class="options" name="kasasagiGraphType_DayUnique">
						<option value="bar">棒グラフ</option>
						<option value="line">折れ線グラフ</option>
					</select>	
				</div>
				<label for="kasasagi_graph_day_unique">グラフの種類</label>
			</p>
		</div>

		<div class="section">
			<p><span class="section-header">月別PV</span></p>
			<p>
				<input type="checkbox" id="enable_kasasagi_graph_month_pv" class="options toggle" name="kasasagiShowGraph_MonthPV">
				<label for="enable_kasasagi_graph_month_pv" class="toggle">グラフを表示</label>
			</p>
			<p>
				<div class="dropdown">
					<select id="kasasagi_graph_type_month_pv" class="options" name="kasasagiGraphType_MonthPV">
						<option value="bar">棒グラフ</option>
						<option value="line">折れ線グラフ</option>
					</select>	
				</div>
				<label for="kasasagi_graph_month_pv">グラフの種類</label>
			</p>
		</div>

		<div class="section">
			<p><span class="section-header">月別ユニーク</span></p>
			<p>
				<input type="checkbox" id="enable_kasasagi_graph_month_unique" class="options toggle" name="kasasagiShowGraph_MonthUnique">
				<label for="enable_kasasagi_graph_month_unique" class="toggle">グラフを表示</label>
			</p>
			<p>
				<div class="dropdown">
					<select id="kasasagi_graph_type_month_unique" class="options" name="kasasagiGraphType_MonthUnique">
						<option value="bar">棒グラフ</option>
						<option value="line">折れ線グラフ</option>
					</select>
				</div>
				<label for="kasasagi_graph_month_unique">グラフの種類</label>
			</p>
		</div>

	</details>

	<details id="general" name="optionPageDetailsGeneral" class="options">
		<summary><strong>⚙ 総合</strong></summary>
		<p>
			Narou Tweakerの総合設定です。<br>
			<span style="color: red; font-weight: bold;">設定項目がリセットされますので、ご注意ください！</span>
		</p>
		<div class="section">
			<div class="section-header">ブラウザ同期</div>
			<p>本ページで設定した項目を、ブラウザで同期します。ログインした状態であれば、他のデバイスにも保存されたデータを共有できます。</p>
			<p><button id="sync-set-options" type="button">このデバイスのデータを他へ共有</button></p>
			<p><button id="sync-get-options" type="button">他のデバイスのデータを取得</button></p>
		</div>
		<div class="section">
			<div class="section-header">エクスポート / インポート</div>
			<p>本ページで設定した項目を、JSONファイルで取り込み/出力します。</p>
			<p><button id="export-options" type="button">エクスポート</button></p>
			<p>
				<div class="button-cover">
					<label id="import-options-label">
						インポート
						<input id="import-options" type="file" accept="application/json">
					</label>
				</div>
			</p>
		</div>
		<div class="section">
			<div class="section-header">リセット</div>
			<p>本ページで設定した項目をリセットできます。</p>
			<p><button id="reset-skin" type="button">スキン設定をリセット</button></p>
			<p><button id="reset-options" type="button">設定をリセット</button></p>
		</div>
	</details>
	
    <details id="debug" name="optionPageDetailsDebug" class="options">
		<summary><strong>🐜 デバッグ</strong></summary>
		<p>デバッグ用項目。</p>
		<p>
			<textarea style="width: 100%; height: 10em;"></textarea>
		</p>
	</details>
	
</form>
<script src="options.js" type="module"></script>